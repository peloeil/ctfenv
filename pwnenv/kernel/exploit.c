#define _GNU_SOURCE
#define _FILE_OFFSET_BITS 64
#include <fcntl.h>
#include <pthread.h>
#include <sched.h>
#include <stdint.h>
#include <stdio.h>
#include <sys/ioctl.h>
#include <sys/mman.h>
#include <unistd.h>

#include "template/ret2usr.h"
#include "template/util.h"
#include "template/vars.h"

static void init_exploit(void) {
    save_state();
    cpu_set_t cpu;
    CPU_ZERO(&cpu);
    CPU_SET(0, &cpu);
    CHECK(sched_setaffinity(0, sizeof(cpu_set_t), &cpu));
}

int32_t fd;

int main(void) {
    init_exploit();
    puts("[ ] exploit start");

    puts("[-] exploit failed...");
    return 0;
}
